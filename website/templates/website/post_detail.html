{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VTuber Library</title>
    <meta name="description" content="sample text">
    <link rel="stylesheet" href="{% static 'sanitize.css' %}">
    <link rel="stylesheet" href="{% static 'navbar_left.css' %}">
    <link rel="stylesheet" href="{% static 'edit_card.css' %}">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Handjet:wght@300&family=Noto+Sans+JP:wght@100;400;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100;400;800&display=swap" rel="stylesheet">
    
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/images/favicon_package_v0.16/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon_package_v0.16/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/images/favicon_package_v0.16/favicon-16x16.png">
    <link rel="manifest" href="./assets/images/favicon_package_v0.16/site.webmanifest">
    <link rel="mask-icon" href="./assets/images/favicon_package_v0.16/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

</head>

<body>
    {% include "navbar_left.html" %}
    {% csrf_token %}
    
    <section class="post-sect1">
            <div class="posted-name">
                <h1>{{ post.title }}</h1>
            </div>
            <div class="posted-category">
                <h2 class="post-genre">## Main Category</h2>
                <h2 class="post-genre-name">{{ post.category.name }}</h2>
                     
            </div>
        <div class="posted-body">
            <h2 class="post-genre">概要</h2>
            <p class="posted-body-p"> {{ post.body }} </p>
        </div>
    </section>

    <section class="post-img">
        <a href="{{ post.links }}" target="_bank">
        <div class="image-container">
            <img src="{{ object.image.url }}" alt="{{ psot.title }}">
        </div>
        </a>
    </section>

    <section class="post-sect2">
        <article class="post-edit">
            <a href="{% url 'update' object.pk %}" >
                    <svg width="30px" height="30px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8 9.00006H6.2C5.0799 9.00006 4.51984 9.00006 4.09202 9.21805C3.71569 9.40979 3.40973 9.71575 3.21799 10.0921C3 10.5199 3 11.08 3 12.2001V17.8001C3 18.9202 3 19.4802 3.21799 19.908C3.40973 20.2844 3.71569 20.5903 4.09202 20.7821C4.51984 21.0001 5.07989 21.0001 6.2 21.0001H17.787C18.9071 21.0001 19.4671 21.0001 19.895 20.7821C20.2713 20.5903 20.5772 20.2844 20.769 19.908C20.987 19.4802 20.987 18.9202 20.987 17.8001V12.0001M6 15.0001H6.01M10 15H10.01M11.5189 12.8946L12.8337 12.6347C13.5432 12.4945 13.8979 12.4244 14.2287 12.2953C14.5223 12.1807 14.8013 12.0318 15.06 11.8516C15.3514 11.6487 15.607 11.393 16.1184 10.8816L21.2668 5.73321C21.9541 5.04596 21.9541 3.9317 21.2668 3.24444C20.5796 2.55719 19.4653 2.55719 18.7781 3.24445L13.5416 8.48088C13.0625 8.96004 12.8229 9.19963 12.6294 9.47121C12.4576 9.71232 12.3131 9.97174 12.1986 10.2447C12.0696 10.5522 11.9921 10.8821 11.837 11.5417L11.5189 12.8946Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                <p class="post-edit-msg1">編集</p>
            </a>

            <a href="{% url 'delete' object.pk %}">
                <svg width="30px" height="30px" viewBox="0 0 1024 1024" class="icon"  version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M960 160h-291.2a160 160 0 0 0-313.6 0H64a32 32 0 0 0 0 64h896a32 32 0 0 0 0-64zM512 96a96 96 0 0 1 90.24 64h-180.48A96 96 0 0 1 512 96zM844.16 290.56a32 32 0 0 0-34.88 6.72A32 32 0 0 0 800 320a32 32 0 1 0 64 0 33.6 33.6 0 0 0-9.28-22.72 32 32 0 0 0-10.56-6.72zM832 416a32 32 0 0 0-32 32v96a32 32 0 0 0 64 0v-96a32 32 0 0 0-32-32zM832 640a32 32 0 0 0-32 32v224a32 32 0 0 1-32 32H256a32 32 0 0 1-32-32V320a32 32 0 0 0-64 0v576a96 96 0 0 0 96 96h512a96 96 0 0 0 96-96v-224a32 32 0 0 0-32-32z" fill="#231815" /><path d="M384 768V352a32 32 0 0 0-64 0v416a32 32 0 0 0 64 0zM544 768V352a32 32 0 0 0-64 0v416a32 32 0 0 0 64 0zM704 768V352a32 32 0 0 0-64 0v416a32 32 0 0 0 64 0z" fill="#231815" /></svg>  
                <p class="post-edit-msg2">削除</p>
            </a>
        </article>

        
        <div class="posted-time">
            <time class="card-time" datetime="{{ post.created_at }}"> 投稿日 : {{ post.created_at }}</time>
            <h2 class="post-genre"># Tags</h2>
                {% if post.tags.all %}
                {% for tag in post.tags.all %}
                    <p class="post-genre-name-sub">#{{ tag.name }}　　</p>
                {% endfor %}
                {% endif %}
        </div>
        {% if post.links %}
        <div class="posted-link">
            <a href="{{ post.links }}" target="_blank">
                <svg class="card-bottun-img" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="width: 50px; height: 50px; opacity: 1;" xml:space="preserve">
                    <style type="text/css">
                        .st0{fill:#4B4B4B;}
                    </style>
                    <g>
                        <path class="st0" d="M256,0C114.625,0,0,114.625,0,256c0,141.374,114.625,256,256,256c141.374,0,256-114.626,256-256
                            C512,114.625,397.374,0,256,0z M351.062,258.898l-144,85.945c-1.031,0.626-2.344,0.657-3.406,0.031
                            c-1.031-0.594-1.687-1.702-1.687-2.937v-85.946v-85.946c0-1.218,0.656-2.343,1.687-2.938c1.062-0.609,2.375-0.578,3.406,0.031
                            l144,85.962c1.031,0.586,1.641,1.718,1.641,2.89C352.703,257.187,352.094,258.297,351.062,258.898z" style="fill: rgb(75, 75, 75);"></path>
                    </g>
                </svg>
                <p class="post-link-message">Let't ckeck it!! </p>
            </a>
        </div>
        {% endif %}
    </section>

    <style>
        canvas {
            position: absolute;
            top: 47%;
            left: 55%;
            transform: translate(-50%, -50%);
            border: 0px solid #ccc;
            z-index: 1;
        }
    </style>
    
    <canvas id="imageCanvas"></canvas>
    
    <script>
        
        const min = -0.01; // 最小値
        const max = 0.01; // 最大値
        const randomInRange = Math.random() * (max - min) + min;
        const canvas = document.getElementById('imageCanvas');
        const ctx = canvas.getContext('2d');
    
        const image = new Image();
        image.src = "{% static '—Pngtree—clock magic array is a_4083801.png' %}";
    
        let rotationSpeed = 0.001;
        let rotationColor = '#FF0000';
    
        image.onload = function() {
            const desiredWidth = 1000;
            const desiredHeight = 1000;
    
            canvas.width = desiredWidth;
            canvas.height = desiredHeight;
    
            ctx.drawImage(image, 0, 0, desiredWidth, desiredHeight);
    
            let rotationAngle = 0;
    
            function rotateImage() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
    
                ctx.save();
                ctx.translate(canvas.width / 2, canvas.height / 2);
                ctx.rotate(rotationAngle);
                ctx.fillStyle = rotationColor;
                ctx.drawImage(image, -canvas.width / 2, -canvas.height / 2, desiredWidth, desiredHeight);
                ctx.restore();
    
                rotationAngle += rotationSpeed;
    
                requestAnimationFrame(rotateImage);
            }
    
            rotateImage();
    
            // 5秒ごとに回転速度と色を変更する
            setInterval(function() {
                // 新しい回転速度と色をランダムに設定
                rotationSpeed = Math.random() * (max - min) + min;;
    
                // n秒ごとに変更を加えたい場合、ここで回転速度と色の更新を行います
            }, 4000);
        };
    </script>
</body>
</html>


